{"version":3,"sources":["src/javascript/mainCalc.js","src/javascript/app.js"],"names":["a","b","sign","finish","digit","action","out","document","querySelector","calculation","clearAll","textContent","ac","addEventListener","btn","event","target","classList","contains","indexOf","key","includes","length","add","alert","toFixed","toString","toExponential"],"mappings":"AACA,IAAIA,CAAC,GAAG,EAAR;AACA,IAAIC,CAAC,GAAG,EAAR;ACFA,ADGA,IAAIC,IAAI,GAAG,EAAX;AACA,IAAIC,MAAM,GAAG,KAAb;AAEA,IAAMC,KAAK,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B,EAAoC,GAApC,EAAyC,GAAzC,EAA8C,GAA9C,EAAmD,GAAnD,CAAd;AACA,IAAMC,MAAM,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAf;AAEA,IAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAZ;AACA,IAAIC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAlB;;AAEA,SAASE,QAAT,GAAoB;AAClBV,EAAAA,CAAC,GAAG,EAAJ;AACAC,EAAAA,CAAC,GAAG,EAAJ;AACAC,EAAAA,IAAI,GAAG,EAAP;AACAC,EAAAA,MAAM,GAAG,KAAT;AACAG,EAAAA,GAAG,CAACK,WAAJ,GAAkB,CAAlB;AACAF,EAAAA,WAAW,CAACE,WAAZ,GAA0B,EAA1B;AACD;;AACD,IAAMC,EAAE,GAAGL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX;AACAI,EAAE,CAACC,gBAAH,CAAoB,OAApB,EAA6B,YAAM;AACjCH,EAAAA,QAAQ;AACT,CAFD;AAIA,IAAMI,GAAG,GAAGP,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAZ;AAEAM,GAAG,CAACD,gBAAJ,CAAqB,OAArB,EAA8B,UAACE,KAAD,EAAW;AACvC,MAAI,CAACA,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,KAAhC,CAAL,EAA6C;AAC7C,MAAIH,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,IAAhC,CAAJ,EAA2C;AAC3C,MAAIH,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,KAAhC,KAA0ClB,CAAC,CAACmB,OAAF,CAAU,GAAV,IAAiB,CAAC,CAA5D,IAAiElB,CAAC,KAAK,EAA3E,EAA+E;AAC/E,MAAIc,KAAK,CAACC,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,KAAhC,KAA0CjB,CAAC,CAACkB,OAAF,CAAU,GAAV,IAAiB,CAAC,CAA5D,IAAiEnB,CAAC,KAAK,EAA3E,EAA+E;AAE/EM,EAAAA,GAAG,CAACK,WAAJ,GAAkB,EAAlB;AACA,MAAMS,GAAG,GAAGL,KAAK,CAACC,MAAN,CAAaL,WAAzB;;AAEA,MAAIX,CAAC,KAAK,GAAN,IAAaC,CAAC,KAAK,GAAvB,EAA4B;AAC1BD,IAAAA,CAAC,GAAG,EAAJ;AACAC,IAAAA,CAAC,GAAG,EAAJ;AACAC,IAAAA,IAAI,GAAG,EAAP;AACAO,IAAAA,WAAW,CAACE,WAAZ,GAA0B,EAA1B;AACAL,IAAAA,GAAG,CAACK,WAAJ,GAAkB,QAAlB;AACD;;AAED,MAAIP,KAAK,CAACiB,QAAN,CAAeD,GAAf,CAAJ,EAAyB;AACvB,QAAInB,CAAC,KAAK,EAAN,IAAYC,IAAI,KAAK,EAAzB,EAA6B;AAC3BF,MAAAA,CAAC,IAAIoB,GAAL;;AAEA,UAAIpB,CAAC,CAACsB,MAAF,GAAW,CAAf,EAAkB;AAChBhB,QAAAA,GAAG,CAACW,SAAJ,CAAcM,GAAd,CAAkB,YAAlB;AACAd,QAAAA,WAAW,CAACQ,SAAZ,CAAsBM,GAAtB,CAA0B,YAA1B;AACA,eAAOC,KAAK,CAAC,4DAAD,CAAZ;AACD;;AACDlB,MAAAA,GAAG,CAACK,WAAJ,eAAuBX,CAAvB;AACD,KATD,MASO,IAAIA,CAAC,KAAK,EAAN,IAAYC,CAAC,KAAK,EAAlB,IAAwBE,MAA5B,EAAoC;AACzCF,MAAAA,CAAC,GAAGmB,GAAJ;AACAjB,MAAAA,MAAM,GAAG,KAAT;AACAG,MAAAA,GAAG,CAACK,WAAJ,GAAkBV,CAAlB;AACD,KAJM,MAIA;AACLA,MAAAA,CAAC,IAAImB,GAAL;;AACA,UAAInB,CAAC,CAACqB,MAAF,GAAW,EAAf,EAAmB;AACjBhB,QAAAA,GAAG,CAACW,SAAJ,CAAcM,GAAd,CAAkB,YAAlB;AACAd,QAAAA,WAAW,CAACQ,SAAZ,CAAsBM,GAAtB,CAA0B,YAA1B;AACA,eAAOC,KAAK,CAAC,4DAAD,CAAZ;AACD;;AACDlB,MAAAA,GAAG,CAACK,WAAJ,GAAkBV,CAAlB;AACD;;AACDQ,IAAAA,WAAW,CAACE,WAAZ,aAA6BX,CAA7B,cAAkCE,IAAlC,cAA0CD,CAA1C;AACA;AACD;;AAED,MAAII,MAAM,CAACgB,QAAP,CAAgBD,GAAhB,CAAJ,EAA0B;AACxBlB,IAAAA,IAAI,GAAGkB,GAAP;AACAd,IAAAA,GAAG,CAACK,WAAJ,eAAuBX,CAAvB;AACAS,IAAAA,WAAW,CAACE,WAAZ,aAA6BX,CAA7B,cAAkCE,IAAlC;AACD;;AACD,MAAIkB,GAAG,KAAK,IAAZ,EAAkB;AAChBpB,IAAAA,CAAC,GAAG,CAACA,CAAL;AACAM,IAAAA,GAAG,CAACK,WAAJ,GAAkBX,CAAlB;AACD;;AACD,MAAIoB,GAAG,KAAK,GAAZ,EAAiB;AACf,QAAIpB,CAAC,KAAK,EAAN,IAAYE,IAAI,KAAK,GAArB,IAA4BA,IAAI,KAAK,GAAzC,EAA8C;AAC5CO,MAAAA,WAAW,CAACE,WAAZ,aAA6BX,CAA7B,cAAkCE,IAAlC,cAA0CD,CAA1C;AACAA,MAAAA,CAAC,GAAID,CAAC,GAAG,GAAL,GAAYC,CAAhB;AACA;AACD,KAJD,MAIO,IAAIA,CAAC,KAAK,EAAN,IAAYC,IAAI,KAAK,GAArB,IAA4BA,IAAI,KAAK,GAAzC,EAA8C;AACnDO,MAAAA,WAAW,CAACE,WAAZ,aAA6BX,CAA7B,cAAkCE,IAAlC,cAA0CD,CAA1C;AACAA,MAAAA,CAAC,GAAGA,CAAC,GAAG,GAAR;AACA;AACD,KAJM,MAIA;AACLD,MAAAA,CAAC,GAAGA,CAAC,GAAG,GAAR;AACAM,MAAAA,GAAG,CAACK,WAAJ,GAAkBX,CAAlB;AACD;AACF;;AAED,MAAIoB,GAAG,KAAK,GAAZ,EAAiB;AACf,QAAInB,CAAC,KAAK,EAAV,EAAcA,CAAC,GAAGD,CAAJ;;AACd,YAAQE,IAAR;AACE,WAAK,GAAL;AACEF,QAAAA,CAAC,GAAI,CAACA,CAAF,GAAQ,CAACC,CAAb;AACAD,QAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,EAAKyB,OAAL,CAAa,CAAb,CAAJ;AACA;;AACF,WAAK,GAAL;AACEzB,QAAAA,CAAC,GAAGA,CAAC,GAAGC,CAAR;AACAD,QAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,EAAKyB,OAAL,CAAa,CAAb,CAAJ;AACA;;AACF,WAAK,GAAL;AACEzB,QAAAA,CAAC,GAAGA,CAAC,GAAGC,CAAR;AACAD,QAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,EAAKyB,OAAL,CAAa,CAAb,CAAJ;AACA;;AACF,WAAK,GAAL;AACE,YAAIxB,CAAC,KAAK,GAAV,EAAe;AACbD,UAAAA,CAAC,GAAG,EAAJ;AACAC,UAAAA,CAAC,GAAG,EAAJ;AACAC,UAAAA,IAAI,GAAG,EAAP;AACAO,UAAAA,WAAW,CAACE,WAAZ,GAA0B,EAA1B;AACAL,UAAAA,GAAG,CAACK,WAAJ,GAAkB,QAAlB;AACA;AACD,SAPD,MAOO,IAAIX,CAAC,KAAK,EAAV,EAAc;AACnBM,UAAAA,GAAG,CAACK,WAAJ;AACAX,UAAAA,CAAC,GAAG,EAAJ;AACAC,UAAAA,CAAC,GAAG,EAAJ;AACAC,UAAAA,IAAI,GAAG,EAAP;AACA;AACD;;AACDF,QAAAA,CAAC,GAAGA,CAAC,GAAGC,CAAR;AACAD,QAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,EAAKyB,OAAL,CAAa,CAAb,CAAJ;AACA;AA9BJ;;AAgCAtB,IAAAA,MAAM,GAAG,IAAT;;AAEA,QAAIH,CAAC,CAAC0B,QAAF,GAAaJ,MAAb,GAAsB,CAA1B,EAA6B;AAC3BtB,MAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,EAAK2B,aAAL,CAAmB,CAAnB,CAAJ;AACD;;AACDrB,IAAAA,GAAG,CAACK,WAAJ,eAAuBX,CAAvB;AACD;AACF,CA7GD","file":"app.e12bfeef.js","sourceRoot":"..","sourcesContent":["\nlet a = ''\nlet b = ''\nlet sign = ''\nlet finish = false\n\nconst digit = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.']\nconst action = ['-', '+', 'x', '/']\n\nconst out = document.querySelector('.calc-screen p')\nlet calculation = document.querySelector('.calc-screen span')\n\nfunction clearAll() {\n  a = ''\n  b = ''\n  sign = ''\n  finish = false\n  out.textContent = 0\n  calculation.textContent = ''\n}\nconst ac = document.querySelector('.ac')\nac.addEventListener('click', () => {\n  clearAll()\n})\n\nconst btn = document.querySelector('.buttons')\n\nbtn.addEventListener('click', (event) => {\n  if (!event.target.classList.contains('btn')) return\n  if (event.target.classList.contains('ac')) return\n  if (event.target.classList.contains('dot') && a.indexOf('.') > -1 && b === '') return\n  if (event.target.classList.contains('dot') && b.indexOf('.') > -1 && a !== '') return\n\n  out.textContent = ''\n  const key = event.target.textContent\n\n  if (a === '.' || b === '.') {\n    a = ''\n    b = ''\n    sign = ''\n    calculation.textContent = ''\n    out.textContent = 'Ошибка'\n  }\n\n  if (digit.includes(key)) {\n    if (b === '' && sign === '') {\n      a += key\n\n      if (a.length > 9) {\n        out.classList.add('big-number')\n        calculation.classList.add('big-number')\n        return alert('Калькулятор может работать с числами не больше 999 999 999')\n      }\n      out.textContent = `= ${a}`\n    } else if (a !== '' && b !== '' && finish) {\n      b = key\n      finish = false\n      out.textContent = b\n    } else {\n      b += key\n      if (b.length > 10) {\n        out.classList.add('big-number')\n        calculation.classList.add('big-number')\n        return alert('Калькулятор может работать с числами не больше 999 999 999')\n      }\n      out.textContent = b\n    }\n    calculation.textContent = `${a} ${sign} ${b}`\n    return\n  }\n\n  if (action.includes(key)) {\n    sign = key\n    out.textContent = `= ${a}`\n    calculation.textContent = `${a} ${sign}`\n  }\n  if (key === '+-') {\n    a = -a\n    out.textContent = a\n  }\n  if (key === '%') {\n    if (a !== '' && sign === '-' || sign === '+') {\n      calculation.textContent = `${a} ${sign} ${b}%`\n      b = (a / 100) * b\n      return\n    } else if (b !== '' && sign === 'x' || sign === '/') {\n      calculation.textContent = `${a} ${sign} ${b}%`\n      b = b / 100\n      return\n    } else {\n      a = a / 100\n      out.textContent = a\n    }\n  }\n\n  if (key === '=') {\n    if (b === '') b = a\n    switch (sign) {\n      case \"+\":\n        a = (+a) + (+b)\n        a = (+a).toFixed(1)\n        break\n      case \"-\":\n        a = a - b\n        a = (+a).toFixed(1)\n        break\n      case \"x\":\n        a = a * b\n        a = (+a).toFixed(1)\n        break\n      case \"/\":\n        if (b === '0') {\n          a = ''\n          b = ''\n          sign = ''\n          calculation.textContent = ''\n          out.textContent = 'Ошибка'\n          return\n        } else if (a === '') {\n          out.textContent = `= 0`\n          a = ''\n          b = ''\n          sign = ''\n          return\n        }\n        a = a / b\n        a = (+a).toFixed(1)\n        break\n    }\n    finish = true\n\n    if (a.toString().length > 9) {\n      a = (+a).toExponential(2)\n    }\n    out.textContent = `= ${a}`\n  }\n})\n","import './mainCalc'\n"]}